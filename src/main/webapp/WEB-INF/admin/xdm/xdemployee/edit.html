	<div id="page-content">
			<div class="col-lg-12">
		        <div class="panel">
		            <div class="panel-heading">
		                <h3 class="panel-title" style="text-align: right;">
		                	#@installPJaxGoBackBtn()
		                </h3>
		            </div>
					#include("editForm.html")

		        </div>
		    </div>
	</div>


	<script>
		function save(){
			var data = common_ajax.ajaxFunc("/admin/xdemployee/save", $('#editForm').serialize(), "json", null);
			if(data.success){
				pointLion.alertMsg("保存成功!" , "success" , "small" , function(){
					location.href = ctx+'/admin/xdemployee/getListPage';//跳转到列表页
				},data);
			}else{
				pointLion.alertMsg(data.message , "danger" , "small" , function(){
					$(".btn").removeAttr("disabled");
				},data);
			}
		}
		$(document).ready(function() {
			$('#editForm').bootstrapValidator({
	            fields: {
	            }
	        }).on("success.form.bv", function (e) {
	            save();
	            return false;//阻止表单跳转
	        });
		});
	</script>

	<link href="#(ctx)/common/plugins/jquery-ui/scripts/miniui/themes/default/miniui.css" rel="stylesheet" type="text/css" />

	<script type="text/javascript">

		// var Genders = [{ id: 1, text: '男' }, { id: 2, text: '女'}];

		mini.parse();

		var grid = mini.get("datagrid1");
		var grid2 = mini.get("datagrid2");
		//grid.load();

		var test=[{ "id":"1",
			"indate":"2007-09-01",
			"outdate":"2007-09-01",
			"jg":"3m Co",
			"zy":"large",
			"xl":"1"}]
		grid.setData(test);

		var test2=[{ "id":"1",
			"entrydate":"2007-09-01",
			"departdate":"2007-09-01",
			"serviceunit":"3m Co",
			"job":"large",
			"addr":"1"}]
		grid2.setData(test2);



		/*function  ttt(){
			console.log("1111")
			console.log(grid.getData())
		}*/

		//var menu = new ColumnsMenu(grid);

		function addRow1() {
			var newRow = { name: "New Row" };
			grid.addRow(newRow, 0);

			grid.beginEditCell(newRow, "indate");
		}
		function addRow2() {
			var newRow = { name: "New Row" };
			grid2.addRow(newRow, 0);

			grid2.beginEditCell(newRow, "entrydate");
		}
		function removeRow1() {
			var rows = grid.getSelecteds();
			if (rows.length > 0) {
				grid.removeRows(rows, true);
			}
		}
		function removeRow2() {
			var rows = grid2.getSelecteds();
			if (rows.length > 0) {
				grid2.removeRows(rows, true);
			}
		}
		// function saveData() {
		//
		// 	saveGrid(grid, {
		// 		url: "../data/AjaxService.aspx?method=SaveEmployees"
		// 	});
		//
		// }


		grid.on("celleditenter", function (e) {
			var index = grid.indexOf(e.record);
			if (index == grid.getData().length - 1) {
				var row = {};
				grid.addRow(row);
			}
		});
		grid2.on("celleditenter", function (e) {
			var index = grid2.indexOf(e.record);
			if (index == grid2.getData().length - 1) {
				var row = {};
				grid2.addRow(row);
			}
		});

		grid.on("beforeload", function (e) {
			if (grid.getChanges().length > 0) {
				if (confirm("有增删改的数据未保存，是否取消本次操作？")) {
					e.cancel = true;
				}
			}
		});
		grid2.on("beforeload", function (e) {
			if (grid2.getChanges().length > 0) {
				if (confirm("有增删改的数据未保存，是否取消本次操作？")) {
					e.cancel = true;
				}
			}
		});
	</script>

